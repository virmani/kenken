<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#2196F3">
    <title>Nishka's KenKen</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Favicon and Apple Touch Icon -->
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <!-- CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Nishka's KenKen</h1>
        </header>
        
        <div class="game-container">
            <div id="puzzle-grid" class="puzzle-grid"></div>
            <div id="number-pad" class="number-pad hidden"></div>
        </div>
        
        <div class="controls">
            <div class="control-group">
                <label for="grid-size">Grid Size:</label>
                <select id="grid-size">
                    <option value="3">3Ã—3</option>
                    <option value="4" selected>4Ã—4</option>
                    <option value="5">5Ã—5</option>
                    <option value="6">6Ã—6</option>
                </select>
            </div>
            
            <div class="control-group">
                <label for="operators">Operators:</label>
                <div class="operator-checkboxes">
                    <label><input type="checkbox" value="+" checked> +</label>
                    <label><input type="checkbox" value="-" checked> âˆ’</label>
                    <label><input type="checkbox" value="*" checked> Ã—</label>
                    <label><input type="checkbox" value="/" checked> Ã·</label>
                </div>
            </div>
            
            <div class="control-group">
                <label for="difficulty">Difficulty:</label>
                <select id="difficulty">
                    <option value="easy">Easy</option>
                    <option value="medium" selected>Medium</option>
                    <option value="hard">Hard</option>
                </select>
            </div>
            
            <button id="new-game-btn" class="btn primary">New Game</button>
            <button id="check-btn" class="btn secondary">Check</button>
            <button id="how-to-play-btn" class="btn secondary">How to Play</button>
        </div>
        
        <div class="game-info">
            <div id="status" class="status">Generate a new puzzle to start playing!</div>
            <div id="timer" class="timer">00:00</div>
        </div>
        
        <div id="win-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Congratulations! ðŸŽ‰</h2>
                <p>You solved the puzzle!</p>
                <p>Time: <span id="final-time"></span></p>
                <button id="new-game-modal-btn" class="btn primary">Play Again</button>
            </div>
        </div>

        <div id="how-to-play-modal" class="modal hidden">
            <div class="modal-content how-to-play">
                <h2>How to Play KenKen</h2>
                <div class="rules-content">
                    <div class="rule">
                        <h3>ðŸŽ¯ Objective</h3>
                        <p>Fill the grid so that each row and column contains all numbers from 1 to N (where N is the grid size), without repeating any number.</p>
                    </div>
                    
                    <div class="rule">
                        <h3>ðŸ”¢ Cage Rules</h3>
                        <p>Each outlined area (cage) has a target number and operation. The numbers in that cage must combine using the given operation to equal the target.</p>
                        <ul>
                            <li><strong>Addition (+):</strong> Numbers add up to the target</li>
                            <li><strong>Subtraction (âˆ’):</strong> Difference between numbers equals target</li>
                            <li><strong>Multiplication (Ã—):</strong> Numbers multiply to the target</li>
                            <li><strong>Division (Ã·):</strong> One number divided by another equals target</li>
                        </ul>
                    </div>
                    
                    <div class="rule">
                        <h3>ðŸ“± How to Play</h3>
                        <p>Tap any cell to select it, then choose a number from the number pad. Use logic and math to solve the puzzle!</p>
                    </div>
                    
                    <div class="rule">
                        <h3>ðŸ’¡ Tips</h3>
                        <ul>
                            <li>Start with single-cell cages (they show the exact number)</li>
                            <li>Look for cages with only one possible combination</li>
                            <li>Use the Latin square rule: no repeats in rows/columns</li>
                        </ul>
                    </div>
                </div>
                <button id="close-how-to-play-btn" class="btn primary">Got It!</button>
            </div>
        </div>
    </div>
    
    <script src="kenken.js"></script>
    <script src="app.js"></script>
    
    <!-- PWA Installation Script -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then((registration) => {
                        console.log('SW registered: ', registration);
                    })
                    .catch((registrationError) => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
</body>
</html> 